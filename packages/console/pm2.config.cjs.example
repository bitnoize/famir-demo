const { env } = require('../../env.config.cjs')

module.exports = {
  apps: [
    {
      name: 'famir-demo-console',
      script: 'dist/index.js',
      cwd: __dirname,
      env: {
        'NODE_ENV': 'production',
        'LOGGER_APP_NAME': 'famir-demo-console',
        'LOGGER_LOG_LEVEL': 'debug',
        'LOGGER_TRANSPORT_TARGET': env.LOGGER_TRANSPORT_TARGET,
        'LOGGER_TRANSPORT_OPTIONS': env.LOGGER_TRANSPORT_OPTIONS,
        'DATABASE_CONNECTION_URL': env.DATABASE_CONNECTION_URL,
        //'DATABASE_PREFIX': 'famir',
        //'STORAGE_END_POINT': 'localhost',
        //'STORAGE_PORT': '9000',
        //'STORAGE_USE_SSL': '0',
        'STORAGE_ACCESS_KEY': env.STORAGE_ACCESS_KEY,
        'STORAGE_SECRET_KEY': env.STORAGE_SECRET_KEY,
        'WORKFLOW_CONNECTION_URL': env.WORKFLOW_CONNECTION_URL,
        //'WORKFLOW_PREFIX': 'bull',
        //'REPL_SERVER_ADDRESS': '127.0.0.1',
        //'REPL_SERVER_PORT': '5000',
        //'REPL_SERVER_MAX_CONNECTIONS': '10',
        //'REPL_SERVER_SOCKET_TIMEOUT': '60000',
        //'REPL_SERVER_PROMPT': 'famir > ',
        //'REPL_SERVER_USE_COLORS': 'true'
      },
      kill_timeout: 10_000,
      watch: false
    }
  ]
}
